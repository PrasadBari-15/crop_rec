<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Register</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <style>
      body, html {
        height: 100%;
        margin: 0;
        font-family: Arial, Helvetica, sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .bg-video {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover; /* Ensure the video covers the entire background */
        z-index: -1;
      }
      .container {
        position: relative;
        z-index: 1;
        background: rgba(255, 255, 255, 0.8);
        padding: 20px;
        border-radius: 10px;
        max-width: 400px; /* Set the maximum width of the register box */
      }
      .fixed-top {
        position: fixed;
        top: 0;
        width: 100%;
        color: black; /* Change heading color to black */
        padding: 10px 0;
        text-align: center;
        z-index: 2;
        animation: glow 1.5s infinite alternate; /* Add glow effect */
      }
      @keyframes glow {
        from {
          text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #ff00ff, 0 0 40px #ff00ff, 0 0 50px #ff00ff, 0 0 60px #ff00ff, 0 0 70px #ff00ff;
        }
        to {
          text-shadow: 0 0 20px #fff, 0 0 30px #ff00ff, 0 0 40px #ff00ff, 0 0 50px #ff00ff, 0 0 60px #ff00ff, 0 0 70px #ff00ff, 0 0 80px #ff00ff;
        }
      }
      .btn-primary {
        background-color: #28a745;
        border-color: #28a745;
      }
      .btn-primary:hover {
        background-color: #218838;
        border-color: #1e7e34;
      }
    </style>
  </head>
  <body>
    <div class="fixed-top">
      <h1>AgroGuide</h1>
    </div>
    <video autoplay muted loop class="bg-video">
      <source src="/static/f3.mp4" type="video/mp4">
      Your browser does not support HTML5 video.
    </video>
    <div class="container">
      <h2>Register</h2>
      <form action="/register" method="POST" onsubmit="return validatePassword()">
        <div class="mb-3">
          <label for="username" class="form-label">Username</label>
          <input type="text" class="form-control" id="username" name="username" required>
        </div>
        <div class="mb-3">
          <label for="password" class="form-label">Password</label>
          <input type="password" class="form-control" id="password" name="password" required>
        </div>
        <div class="mb-3">
          <label for="confirm_password" class="form-label">Confirm Password</label>
          <input type="password" class="form-control" id="confirm_password" name="confirm_password" required>
        </div>
        <button type="submit" class="btn btn-primary">Register</button>
      </form>
      <p class="mt-3">Already have an account? <a href="/login">Login here</a></p>
    </div>
    <script>
      function validatePassword() {
        var password = document.getElementById("password").value;
        var confirm_password = document.getElementById("confirm_password").value;
        var specialCharacterPattern = /[!@#$%^&*(),.?":{}|<>]/;
        var digitPattern = /\d/;

        if (password.length < 6) {
          alert("Password should be greater than 6 characters, it should contain at least one special character and one digit");
          return false;
        }
        if (!specialCharacterPattern.test(password)) {
          alert("Password should contain at least one special character");
          return false;
        }
        if (!digitPattern.test(password)) {
          alert("Password should contain at least one digit");
          return false;
        }
        if (password != confirm_password) {
          alert("Password should match with Confirm password");
          return false;
        }
        return true;
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
  </body>
</html>